# Nodejs PostGraphile Assignment

Nodejs PostGraphile Assignment

## Requirements
- NodeJS
- NPM or Yarn
- PostgreSQL DB | SupaBase Project

## How to install
- Clone the repository
- Install dependencies
`npm install` or `yarn`
- Setup your database on SupaBase
- Setup .env file
`cp .env.example .env`

## How to start
- Open a terminal and run the server

`yarn start`

- Open another terminal and run PostGraphile

`yarn graphile`

## How to create a table

```
DROP TABLE IF EXISTS "public"."Sale";
CREATE TABLE "public"."Sale" (
  "id" int8 NOT NULL GENERATED BY DEFAULT AS IDENTITY (
    INCREMENT 1
    MINVALUE  1
    MAXVALUE 9223372036854775807
    START 1
  ),
  "created_at" timestamptz(6) DEFAULT now(),
  "transaction_hash" varchar COLLATE "pg_catalog"."default",
  "seller_address" varchar COLLATE "pg_catalog"."default",
  "buyer_address" varchar COLLATE "pg_catalog"."default",
  "nft_token_id" varchar COLLATE "pg_catalog"."default",
  "nft_collection_address" varchar COLLATE "pg_catalog"."default",
  "quantity_sold" int2,
  "amount_paid" float4
);

ALTER TABLE "public"."Sale" ADD CONSTRAINT "Sale_pkey" PRIMARY KEY ("id");
```
